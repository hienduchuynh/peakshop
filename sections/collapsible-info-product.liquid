{{ 'component-accordion.css' | asset_url | stylesheet_tag }}
{{ 'collapsible-info-product.css' | asset_url | stylesheet_tag }}
<section class="page-width section-{{ section.id }}-padding">
  <div class="product-infor-tabs">
    <div class="tabs-title tabs">
      {%- if section.settings.layout_description == "tabs" -%}
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'description' -%}
              {%- if product.description != blank -%}
                <div class="product__accordion accordion product__description rte quick-add-hidden tab" data-content-id="ProductAccordion-{{ block.id }}-{{ section.id }}">
                  <details id="Details-{{ block.id }}-{{ section.id }}" open>
                    <summary>
                      <div class="summary__title">
                        {% render 'icon-accordion', icon: 'question_mark' %}
                        <h2 class="h5 accordion__title">Product details</h2>
                      </div>
                      {% render 'icon-caret' %}
                    </summary>
                    <div class="tab-content-child animated des-product" id="ProductAccordion-{{ block.id }}-{{ section.id }}">
                      {{ product.description }}
                    </div>
                  </details>
                </div>
              {%- endif -%}
          {%- endcase -%}
        {%- endfor -%}
      {%- endif -%}
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'tabs' -%}
            {%- if block.tabs.settings.content != blank -%}
              <div class="tab" {{ block.shopify_attributes }} data-content-id="ProductAccordion-{{ block.id }}-{{ section.id }}">
                <details id="Details-{{ block.id }}-{{ section.id }}">
                  <summary>
                    <div class="summary__title">
                      <h2 class="h5 accordion__title">
                        {{ block.tabs.settings.title | default: block.settings.page.title }}
                      </h2>
                    </div>
                  </summary>
                  <div class="tab-content-child animated" id="ProductAccordion-{{ block.id }}-{{ section.id }}">
                    {{ block.tabs.settings.content }}
                    {%- if block.settings.image_tabs != blank -%}
                      <div class="media media--{{ block.settings.image_ratio_tabs }} media--transparent {% if block.settings.image_tabs == blank %} placeholder{% endif %}">
                        {%-liquid
                        assign image_height = block.settings.image_tabs.width | divided_by: block.settings.image_tabs.aspect_ratio
                        assign image_class = ""
                        assign sizes = "100%"
                      -%}
                        {{ block.tabs.settings.image | image_url: width: 1500 | image_tag:
                         loading: 'lazy'
                         , width: block.settings.image_tabs.width
                         , height: image_height
                         , class: image_class
                         , sizes: sizes
                         , widths: '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
                         , alt: block.settings.image.alt | escape
                         }}
                      </div>
                    {%- endif -%}
                  </div>
                </details>
              </div>
            {%- endif -%}
        {%- endcase -%}
      {%- endfor -%}
      <div class="tab" id="review-wrapper" data-content-id="shopify-product-reviews">
        <div>Review</div>
      </div>
    </div>

    <div id="tab-content"></div>
  </div>
</section>
{% schema %}
  {
    "name": "t:sections.collapsible_info_product.name",
    "tag": "section",
    "class": "section",
    "blocks": [
      {
        "type": "@app"
      }, {
        "type": "tabs",
        "name": "t:sections.collapsible_info_product.blocks.tabs.name",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "default": "Tabs",
            "label": "t:sections.collapsible_info_product.blocks.tabs.settings.title.label"
          }, {
            "type": "richtext",
            "id": "content",
            "label": "t:sections.collapsible_info_product.blocks.tabs.settings.content.label"
          }, {
            "type": "image_picker",
            "id": "image",
            "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image.label"
          }, {
            "type": "select",
            "id": "image_ratio",
            "options": [
              {
                "value": "portrait",
                "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image_ratio.options__1.label"
              }, {
                "value": "square",
                "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image_ratio.options__2.label"
              }, {
                "value": "34",
                "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image_ratio.options__3.label"
              }, {
                "value": "43",
                "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image_ratio.options__4.label"
              }
            ],
            "default": "43",
            "label": "t:sections.collapsible_info_product.blocks.tabs.settings.image_ratio.label"
          }
        ]
      }
    ],
    "settings": [
      {
        "type": "header",
        "content": "t:sections.collapsible_info_product.settings.tabs.label"
      }, {
        "type": "select",
        "id": "layout_description",
        "options": [
          {
            "value": "accordion",
            "label": "t:sections.collapsible_info_product.settings.layout_description.label__1"
          }, {
            "value": "tabs",
            "label": "t:sections.collapsible_info_product.settings.layout_description.label__2"
          }
        ],
        "default": "tabs",
        "label": "t:sections.collapsible_info_product.settings.layout_description.content"
      }
    ],
    "presets": [
      {
        "name": "t:sections.collapsible_info_product.presets.name"
      }
    ]
  }
{% endschema %}